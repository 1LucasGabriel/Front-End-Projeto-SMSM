<main>
    <aside class="header">
        <h1 (click)="irPara(['/home'])">HealthFlow</h1>
    </aside>

    <div class="principal">
        <section class="menu">
            <div (click)="irPara(['/home'])">
                <i class="fa-solid fa-house"></i>
                <p>Home</p>
            </div>

            @if (usuario.idPerfil === 1 || usuario.idPerfil === 2) {
                <div (click)="irPara(['/triagem'])">
                    <i class="fa-solid fa-address-card"></i>
                    <p>Triagem</p>
                </div>
            }

            @if (usuario.idPerfil === 1) {
                <div (click)="irPara(['/dashboards'])">
                    <i class="fa-solid fa-chart-pie"></i>
                    <p>Dashboards</p>
                </div>
            }

            @if (usuario.idPerfil === 1 || usuario.idPerfil === 2) {
                <div (click)="irPara(['/solicitacoes'])">
                    <i class="fa-solid fa-envelope"></i>
                    <p>Solicitar</p>
                </div>
            }

            @if (usuario.idPerfil === 1) {
                <div class="selecionado" (click)="irPara(['/lista-demandas'])">
                    <i class="fa-solid fa-list"></i>
                    <p>Demandas</p>
                </div>
            }

            @if (usuario.idPerfil === 1) {
                <div (click)="irPara(['/vagas'])">
                    <i class="fa-solid fa-file"></i>
                    <p>Vagas</p>
                </div>
            }

            <div (click)="sair()">
                <i class="fa-solid fa-right-from-bracket"></i>
                <p>Sair</p>
            </div>
        </section>

        <section class="conteudo">
            <h3>Histórico de Demandas</h3>
            
            <article>
                <button (click)="irPara(['/lista-demandas'])">Ver Demandas</button>
            </article>


            @for (item of agendamentos; track $index) {
                @if (item.statusComparecimento == 'Concluído') {
                    <div class="demanda" style="border-color: green;">
                        <div class="cabecalho">
                            <h2>{{item.procedimentoNome}} - {{item.medicoNome}}</h2>
                            <p>{{item.dataRealizacao | date:'dd/MM/yyyy HH:mm:ss'}}</p>
                        </div>

                        <p>{{item.pacienteNome}} passou pelo procedimento pela seguinte justificativa clínica: {{item.justificativa}}.</p>
                    </div>
                }
            }
        </section>
    </div>
</main>
