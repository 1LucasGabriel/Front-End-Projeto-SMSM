<script src="https://cdn.jsdelivr.net/npm/chart.js@4.5.0"></script>

<header class="geral">
    <i class="fa-solid fa-bars" (click)="drawer.toggle()" [style.cursor]="'pointer'"></i>

<h2 style="color: white; margin: auto 0; font-size: 40px;">HealthFlow</h2>

    <!-- <search>
        <form>
            <input type="text" placeholder="Buscar...">
        </form>
    </search> -->
</header>

<mat-drawer-container [hasBackdrop]="true">
    <mat-drawer #drawer mode="over">
        <aside (click)="irPara(['/home'])">
            <i class="fa-solid fa-house"></i>
            <p>Home</p>
        </aside>

        <aside>
            <i class="fa-solid fa-address-card"></i>
            <p>Triagem</p>
        </aside>

        <aside>
            <i class="fa-solid fa-chart-pie"></i>
            <p>Dashboards</p>
        </aside>

        <aside (click)="irPara(['/solicitacoes'])">
            <i class="fa-solid fa-envelope"></i>
            <p>Solicitar</p>
        </aside>

        <aside (click)="irPara(['/lista-demandas'])">
            <i class="fa-solid fa-list"></i>
            <p>Demandas</p>
        </aside>

        <aside>
            <i class="fa-solid fa-file"></i>
            <p>Vagas</p>
        </aside>

        <aside (click)="sair()">
            <i class="fa-solid fa-right-from-bracket"></i>
            <p>Sair</p>
        </aside>
    </mat-drawer>

    <mat-drawer-content>
        <main class="padrao">
            <section class="padrao">
                <article>
                    <h1>Olá, Dr(a). @Nome_Do_Médico</h1>

                    <p>{{data}}</p>
                </article>

                <div class="principal">
                    <aside>
                        <div class="estatistica" style="background-color: #1D4D71;">
                            <h3>Fila Total</h3>
                            <h1>8.450</h1>
                            <p>pacientes</p>
                        </div>

                        <div class="estatistica" style="background-color: #189ABB;">
                            <h3>Tempo Médio Espera</h3>
                            <h1>95</h1>
                            <p>dias</p>
                        </div>
                    </aside>

                    <aside>
                        <div class="card">
                            <h3 style="margin-bottom: 40px;">Demandas por Especialidade</h3>
                            <div class="bars">
                            <div class="bar" 
                                *ngFor="let item of data2" 
                                [style.height.%]="(item.value / maxValue()) * 100">
                                <span class="value">{{ item.value }}p/dia</span>
                                <span class="label">{{ item.label }}</span>
                            </div>
                            </div>
                        </div>

                        <div class="card">
                            <h3 style="margin-bottom: 40px;">Taxa de Comparecimento</h3>
                            <div class="donut">
                            <div class="circle" [style.--p]="porcentagem">
                                <span class="percent">{{ porcentagem }}%</span>
                            </div>
                            </div>
                        </div>
                    </aside>
                </div>
            </section>
        </main>
    </mat-drawer-content>
</mat-drawer-container>